<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout | All things girlie</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <script src="cart.js" defer></script>
</head>
<body>
    <!-- Background Video -->
    <div class="video-background">
        <video autoplay muted loop playsinline>
            <source src="IMG_0312.MP4" type="video/mp4">
        </video>
    </div>
    <div class="video-overlay"></div>

    <div class="main-content">
    <!-- Header / Navbar -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <a href="index.html"><img src="IMG_0536.JPG" alt="All things girlie"></a>
                </div>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="shop.html" class="nav-link">Shop</a></li>
                    <li><a href="hampers.html" class="nav-link">Custom Hampers</a></li>
                    <li><a href="coming-soon.html" class="nav-link">Coming Soon</a></li>
                    <li><a href="about.html" class="nav-link">About</a></li>
                    <li><a href="contact.html" class="nav-link">Contact</a></li>
                    <li><a href="cart.html" class="nav-link cart-link">
                        <span class="cart-icon">ðŸ›’</span>
                        <span class="cart-text">Cart</span>
                        <span class="cart-badge">2</span>
                    </a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h2 class="page-title">Checkout</h2>
            <p class="page-subtitle">Complete your purchase</p>
        </div>
    </section>

    <!-- Checkout Section -->
    <section class="products" style="padding-bottom: 4rem;">
        <div class="container">
            <div class="checkout-content">
                <!-- Checkout Form -->
                <div class="checkout-form-section">
                    <h3 class="section-title" style="text-align: left; margin-bottom: 2rem;">Shipping Information</h3>
                    
                    <form class="checkout-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="first-name">First Name</label>
                                <input type="text" id="first-name" name="first-name" required>
                            </div>
                            <div class="form-group">
                                <label for="last-name">Last Name</label>
                                <input type="text" id="last-name" name="last-name" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="address">Street Address</label>
                            <input type="text" id="address" name="address" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="city">City</label>
                                <input type="text" id="city" name="city" required>
                            </div>
                            <div class="form-group">
                                <label for="state">State/Province</label>
                                <input type="text" id="state" name="state" required>
                            </div>
                            <div class="form-group">
                                <label for="zip">ZIP/Postal Code</label>
                                <input type="text" id="zip" name="zip" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="country">Country</label>
                            <input type="text" id="country" name="country" required>
                        </div>

                        <h3 class="section-title" style="text-align: left; margin-top: 2.5rem; margin-bottom: 1.5rem;">Payment</h3>
                        
                        <div class="paystack-payment-section">
                            <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.95rem;">
                                Secure payment powered by Paystack. Your payment information is encrypted and secure.
                            </p>
                            
                            <button type="button" id="paystack-button" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                                Pay with Paystack
                            </button>
                            
                            <div class="paystack-security-badges" style="margin-top: 1.5rem; text-align: center;">
                                <p style="font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.5rem;">Secured by</p>
                                <div style="display: flex; align-items: center; justify-content: center; gap: 1rem;">
                                    <span style="font-size: 0.9rem; color: var(--text-light);">ðŸ”’ SSL Encrypted</span>
                                    <span style="font-size: 0.9rem; color: var(--text-light);">âœ“ PCI Compliant</span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Order Summary -->
                <div class="checkout-summary">
                    <h3 class="section-title" style="text-align: left; margin-bottom: 1.5rem;">Order Summary</h3>
                    
                    <div class="checkout-items">
                        <!-- Cart items will be dynamically rendered here -->
                    </div>
                    
                    <div class="summary-divider"></div>
                    
                    <div class="summary-row">
                        <span>Subtotal</span>
                        <span class="checkout-subtotal">â‚¦0</span>
                    </div>
                    <div class="summary-row">
                        <span>Shipping</span>
                        <span class="checkout-shipping">Free</span>
                    </div>
                    <div class="summary-row summary-total">
                        <span>Total</span>
                        <span class="checkout-total">â‚¦0</span>
                    </div>
                    <p class="checkout-usd" style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem; text-align: center;">
                        (Approx. $0.00 USD)
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Paystack Payment Script -->
    <script>
        document.getElementById('paystack-button').addEventListener('click', function() {
            // Get form data
            const email = document.getElementById('email').value;
            const firstName = document.getElementById('first-name').value;
            const lastName = document.getElementById('last-name').value;
            const phone = document.getElementById('phone').value;
            
            // Validate form
            if (!email || !firstName || !lastName || !phone) {
                alert('Please fill in all required fields before proceeding to payment.');
                return;
            }
            
            // Get cart total
            const cartManager = window.cartManager;
            if (!cartManager || cartManager.cart.length === 0) {
                alert('Your cart is empty. Please add items before checkout.');
                return;
            }
            
            const totals = cartManager.getTotal();
            // Convert USD total to NGN (1450 NGN = 1 USD), then to kobo (1 NGN = 100 kobo)
            const totalInNGN = totals.total * 1450;
            const amountInKobo = Math.round(totalInNGN * 100);
            
            // Paystack payment handler
            const handler = PaystackPop.setup({
                key: 'pk_test_YOUR_PUBLIC_KEY', // Replace with your Paystack public key
                email: email,
                amount: amountInKobo, // Amount in kobo
                currency: 'NGN',
                ref: 'ATG_' + Math.floor((Math.random() * 1000000000) + 1), // Generate a unique reference
                metadata: {
                    custom_fields: [
                        {
                            display_name: "First Name",
                            variable_name: "first_name",
                            value: firstName
                        },
                        {
                            display_name: "Last Name",
                            variable_name: "last_name",
                            value: lastName
                        },
                        {
                            display_name: "Phone",
                            variable_name: "phone",
                            value: phone
                        }
                    ]
                },
                callback: function(response) {
                    // Payment successful
                    alert('Payment successful! Reference: ' + response.reference);
                    // Redirect to success page or show success message
                    // window.location.href = 'payment-success.html?reference=' + response.reference;
                },
                onClose: function() {
                    // User closed the payment modal
                    alert('Payment window closed. You can complete your payment later.');
                }
            });
            
            handler.openIframe();
        });
    </script>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3 class="footer-logo">All things girlie</h3>
                    <p class="footer-tagline">
                        Soft beauty, made for you. A boutique collection of thoughtfully curated products 
                        designed to celebrate your feminine essence.
                    </p>
                </div>
                <div class="footer-contact">
                    <h4 class="footer-heading">Get in Touch</h4>
                    <ul class="contact-list">
                        <li>Email: <a href="mailto:hello@allthingsgirlie.com">hello@allthingsgirlie.com</a></li>
                        <li>WhatsApp: <a href="tel:+15551234567">+1 (555) 123-4567</a></li>
                        <li>Instagram DM: <a href="https://instagram.com/allthingsgirlie" target="_blank">@allthingsgirlie</a></li>
                    </ul>
                </div>
                <div class="footer-social">
                    <h4 class="footer-heading">Follow Us</h4>
                    <div class="social-links">
                        <a href="https://instagram.com/allthingsgirlie" target="_blank" class="social-link">Instagram</a>
                        <a href="https://tiktok.com/@allthingsgirlie" target="_blank" class="social-link">TikTok</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 All things girlie. All rights reserved.</p>
                <p style="margin-top: 0.5rem; font-size: 0.85rem; opacity: 0.8;">Made by NeuroLoom Tech</p>
            </div>
        </div>
    </footer>
    </div>
</body>
</html>

